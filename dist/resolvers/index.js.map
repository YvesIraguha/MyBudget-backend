{"version":3,"sources":["../../src/resolvers/index.js"],"names":["resolvers","Query","getAllExpenses","root","args","token","ExpenseController","getExpense","id","getUsers","UserController","getUser","Mutation","createExpense","type","quantity","price","deleteExpense","updateExpense","rest","createUser","accessToken","profileData","axios","get","headers","Authorization","Expense","owner","expense","user","User","expenses","getExpenses"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACL,UAAMC,cAAN,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiC;AAAEC,MAAAA;AAAF,KAAjC,EAA4C;AAC1C,aAAOC,kBAAkBJ,cAAlB,CAAiCG,KAAjC,CAAP;AACD,KAHI;;AAIL,UAAME,UAAN,CAAiBJ,IAAjB,EAAuB;AAAEK,MAAAA;AAAF,KAAvB,EAA+B;AAC7B,aAAOF,kBAAkBC,UAAlB,CAA6BC,EAA7B,CAAP;AACD,KANI;;AAOL,UAAMC,QAAN,CAAeN,IAAf,EAAqB;AACnB,aAAOO,eAAeD,QAAf,EAAP;AACD,KATI;;AAUL,UAAME,OAAN,CAAcR,IAAd,EAAoB;AAAEK,MAAAA;AAAF,KAApB,EAA4B;AAC1B,aAAOE,eAAeC,OAAf,CAAuBH,EAAvB,CAAP;AACD;;AAZI,GADS;AAehBI,EAAAA,QAAQ,EAAE;AACR,UAAMC,aAAN,CAAoBV,IAApB,EAA0B;AAAEW,MAAAA,IAAF;AAAQC,MAAAA,QAAR;AAAkBC,MAAAA;AAAlB,KAA1B,EAAqD;AAAEX,MAAAA;AAAF,KAArD,EAAgE;AAC9D,aAAOC,kBAAkBO,aAAlB,CAAgCC,IAAhC,EAAsCC,QAAtC,EAAgDC,KAAhD,EAAuDX,KAAvD,CAAP;AACD,KAHO;;AAIR,UAAMY,aAAN,CAAoBd,IAApB,EAA0B;AAAEK,MAAAA;AAAF,KAA1B,EAAkC;AAAEH,MAAAA;AAAF,KAAlC,EAA6C;AAC3C,aAAOC,kBAAkBW,aAAlB,CAAgCT,EAAhC,EAAoCH,KAApC,CAAP;AACD,KANO;;AAOR,UAAMa,aAAN,CAAoBf,IAApB,EAA0B;AAAEK,MAAAA,EAAF;AAAM,SAAGW;AAAT,KAA1B,EAA2C;AAAEd,MAAAA;AAAF,KAA3C,EAAsD;AACpD,aAAOC,kBAAkBY,aAAlB,CAAgCV,EAAhC,EAAoCW,IAApC,EAA0Cd,KAA1C,CAAP;AACD,KATO;;AAUR,UAAMe,UAAN,CAAiBjB,IAAjB,EAAuB;AAAEkB,MAAAA;AAAF,KAAvB,EAAwC;AACtC,YAAMC,WAAW,GAAG,MAAMC,eAAMC,GAAN,CACxB,2CADwB,EAExB;AACEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAG,UAASL,WAAY;AAAvC;AADX,OAFwB,CAA1B;AAMA,aAAOX,eAAeU,UAAf,CAA0BE,WAA1B,CAAP;AACD;;AAlBO,GAfM;AAmChBK,EAAAA,OAAO,EAAE;AACP,UAAMC,KAAN,CAAYC,OAAZ,EAAqB;AACnB,YAAMC,IAAI,GAAG,MAAMD,OAAO,CAAClB,OAAR,EAAnB;AACA,aAAOmB,IAAP;AACD;;AAJM,GAnCO;AAyChBC,EAAAA,IAAI,EAAE;AACJ,UAAMC,QAAN,CAAeF,IAAf,EAAqB;AACnB,YAAMD,OAAO,GAAG,MAAMC,IAAI,CAACG,WAAL,EAAtB;AACA,aAAOJ,OAAP;AACD;;AAJG;AAzCU,CAAlB;eAiDe7B,S","sourcesContent":["import axios from \"axios\";\nimport UserController from \"../data/users\";\nimport ExpenseController from \"../data/expenses\";\n\nconst resolvers = {\n  Query: {\n    async getAllExpenses(root, args, { token }) {\n      return ExpenseController.getAllExpenses(token);\n    },\n    async getExpense(root, { id }) {\n      return ExpenseController.getExpense(id);\n    },\n    async getUsers(root) {\n      return UserController.getUsers();\n    },\n    async getUser(root, { id }) {\n      return UserController.getUser(id);\n    }\n  },\n  Mutation: {\n    async createExpense(root, { type, quantity, price }, { token }) {\n      return ExpenseController.createExpense(type, quantity, price, token);\n    },\n    async deleteExpense(root, { id }, { token }) {\n      return ExpenseController.deleteExpense(id, token);\n    },\n    async updateExpense(root, { id, ...rest }, { token }) {\n      return ExpenseController.updateExpense(id, rest, token);\n    },\n    async createUser(root, { accessToken }) {\n      const profileData = await axios.get(\n        \"https://www.googleapis.com/userinfo/v2/me\",\n        {\n          headers: { Authorization: `Bearer ${accessToken}` }\n        }\n      );\n      return UserController.createUser(profileData);\n    }\n  },\n  Expense: {\n    async owner(expense) {\n      const user = await expense.getUser();\n      return user;\n    }\n  },\n  User: {\n    async expenses(user) {\n      const expense = await user.getExpenses();\n      return expense;\n    }\n  }\n};\n\nexport default resolvers;\n"],"file":"index.js"}