{"version":3,"sources":["../../src/data/users.js"],"names":["UserController","getUser","id","user","models","User","findOne","where","getUsers","users","findAll","createUser","data","email","family_name","firstName","given_name","lastName","newUser","create","token","dataValues"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,cAAN,CAAqB;AACnB,eAAaC,OAAb,CAAqBC,EAArB,EAAyB;AACvB,UAAMC,IAAI,GAAG,MAAMC,gBAAOC,IAAP,CAAYC,OAAZ,CAAoB;AAAEC,MAAAA,KAAK,EAAE;AAAEL,QAAAA;AAAF;AAAT,KAApB,CAAnB;AACA,WAAOC,IAAP;AACD;;AAED,eAAaK,QAAb,GAAwB;AACtB,UAAMC,KAAK,GAAG,MAAML,gBAAOC,IAAP,CAAYK,OAAZ,EAApB;AACA,WAAOD,KAAP;AACD;;AAED,eAAaE,UAAb,CAAwB;AAAEC,IAAAA;AAAF,GAAxB,EAAkC;AAChC,UAAM;AAAEV,MAAAA,EAAF;AAAMW,MAAAA,KAAN;AAAaC,MAAAA,WAAW,EAAEC,SAA1B;AAAqCC,MAAAA,UAAU,EAAEC;AAAjD,QAA8DL,IAApE;AACA,UAAMT,IAAI,GAAG,MAAMC,gBAAOC,IAAP,CAAYC,OAAZ,CAAoB;AAAEC,MAAAA,KAAK,EAAE;AAAEL,QAAAA;AAAF;AAAT,KAApB,CAAnB;;AACA,QAAI,CAACC,IAAL,EAAW;AACT,YAAMe,OAAO,GAAG,MAAMd,gBAAOC,IAAP,CAAYc,MAAZ,CAAmB;AAAEjB,QAAAA,EAAF;AAAMW,QAAAA,KAAN;AAAaE,QAAAA,SAAb;AAAwBE,QAAAA;AAAxB,OAAnB,CAAtB;AACA,YAAMG,KAAK,GAAG,MAAM,oCAAeF,OAAO,CAACG,UAAvB,CAApB;AACA,aAAO;AAAED,QAAAA;AAAF,OAAP;AACD;;AACD,UAAMA,KAAK,GAAG,MAAM,oCAAejB,IAAI,CAACkB,UAApB,CAApB;AACA,WAAO;AAAED,MAAAA;AAAF,KAAP;AACD;;AArBkB;;eAwBNpB,c","sourcesContent":["import models from \"../../models\";\nimport { createJwtToken } from \"../helpers/authentication\";\n\nclass UserController {\n  static async getUser(id) {\n    const user = await models.User.findOne({ where: { id } });\n    return user;\n  }\n\n  static async getUsers() {\n    const users = await models.User.findAll();\n    return users;\n  }\n\n  static async createUser({ data }) {\n    const { id, email, family_name: firstName, given_name: lastName } = data;\n    const user = await models.User.findOne({ where: { id } });\n    if (!user) {\n      const newUser = await models.User.create({ id, email, firstName, lastName });\n      const token = await createJwtToken(newUser.dataValues);\n      return { token };\n    }\n    const token = await createJwtToken(user.dataValues);\n    return { token };\n  }\n}\n\nexport default UserController;\n"],"file":"users.js"}